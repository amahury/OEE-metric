# OEE-RBN: Open-Endedness in Random Boolean Networks

This repository accompanies the manuscript **“Characterizing Open-Ended Evolution Through Undecidability Mechanisms in Random Boolean Networks”**.
It contains the full, reproducible pipeline: Python scripts, experiment notebooks, and numpy (`.npy`) result files used to generate the figures and analysis in the paper and its Supplementary Material.

> Ω (open-endedness) is computed as `KD / T^2`, where `KD` is the residence-time–weighted sum of cycle-lengths across attractors encountered in a horizon of `T` steps. See `single.py` for the extractor, and the notebooks for figure generation.

## Repository layout

```
.
├─ code/
│   ├─ axiomatic.py       # RBN generators, alternative logics, simulators (CPU/GPU)
│   ├─ single.py          # Baseline experiments + Ω extractor
│   ├─ parallel_new.py    # Parameter sweeps (PBN, Modal, Paraconsistent, Quantum, Dynamic)
│   └─ run_all.sh         # Bash file running the whole pipeline
├─ notebooks/
│   ├─ plots_homo.ipynb   # Homogeneous RBN analyses & plots
│   └─ plots_hetero.ipynb # Heterogeneous RBN analyses & plots
├─ data/
│   ├─ npy/               # NPY results saved by scripts 
│   └─ figures/           # PDF figures generated by notebooks or scripts
├─ paper
│   ├─ paper_OEEMetric_v2 # Last version of the paper 
│   └─ SM_OEEMetric_v2    # sSupplementary Material of the paper
├─ docs/                  # MkDocs documentation site
├─ requirements.txt
├─ environment.yml
├─ CITATION.cff
└─ LICENSE
```

## Installation

- **Conda** (recommended):
  ```bash
  conda env create -f environment.yml
  conda activate oee-rbn
  ```

- **pip**:
  ```bash
  python -m venv .venv
  source .venv/bin/activate  # Windows: .venv\Scripts\activate
  pip install -r requirements.txt
  ```

GPU acceleration is optional (via `cupy` and **cubewalkers**). If unavailable, the CPU path is used automatically.

## Quick start

1) **Baseline Ω vs K** (homogeneous Poisson, synchronous):
```bash
python single.py
```
This will produce one or more `.npy` files like `open_endedness_T1000000.npy` in `data/npy/` and a preview plot.

2) **Parameter sweeps** for PBN, Modal, Paraconsistent, Quantum, Dynamic (homogeneous/heterogeneous):
```bash
python parallel_new.py
```
This will create files like `open_endedness_pbn.npy`, `open_endedness_modal.npy`, etc. in `data/npy/` and summary PNGs in `data/figures/`.

3) **Figures** for the paper:
Open the notebooks in `notebooks/` and run all cells. They expect the `.npy` files in `data/npy/` and will write figures to `data/figures/`.

## Environment variables (tuning & reproducibility)

The scripts honor several env vars (defaults in parentheses):

- **GPU/streaming**
  - `OEE_USE_GPU` (`"1"` in `single.py`, `"0"` in some runners): enable GPU path when available and beneficial
  - `OEE_GPU_MIN_T` (`200000`): switch to GPU for long horizons
  - `OEE_GPU_UPDATE`/`OEE_UPDATE` (`"synchronous"`): update scheme (`synchronous`, `asynchronous`, `asynchronous_set`)
  - `OEE_GPU_CHUNK_T`: optional GPU chunk length override
  - `OEE_GPU_TPB_X` (`64`), `OEE_GPU_TPB_Y` (`1`): CUDA thread/block hints

- **Boolean network construction**
  - `OEE_MAX_K` (`8`): cap in-degree to keep LUTs tractable

- **PBN control**
  - `OEE_PBN_DEPENDENT` (`"1"`): share a single PBN value across nodes per step in certain GPU masks

- **Experiment pacing**
  - `OEE_STEPS` (varies, e.g. `100000` or `1000000`): override horizon `T`
  - `OEE_CI_DELTA` (`0.02`), `OEE_CI_BATCH` (`50`), `OEE_MAX_NETS` (`1000`): adaptive sampling controls (CI halfwidth, batch size, cap)

- **Very long runs**
  - `OEE_LONG_T_THRESHOLD` (`1000000`): use cycle–tail shortcut for deterministic BN when `T` is huge

For full details, see the API docs and inline comments in `axiomatic.py`, `single.py`, and `parallel_new.py`.

## Citing

See [`CITATION.cff`](./CITATION.cff).

## License

Released under the MIT License (see `LICENSE`).

